[gd_scene load_steps=20 format=3 uid="uid://bxg0ji4jcia63"]

[ext_resource type="Script" uid="uid://y6imsfw3mou4" path="res://game_state.gd" id="1_8cye3"]
[ext_resource type="Script" uid="uid://dt506o0k22n2o" path="res://pause_handler.gd" id="1_i2t4f"]
[ext_resource type="Script" uid="uid://cwywb5ui0ityb" path="res://world_environment.gd" id="1_km5ld"]
[ext_resource type="Script" uid="uid://dbrkaqpw5847g" path="res://camera_3d.gd" id="1_u52ul"]
[ext_resource type="PackedScene" uid="uid://cofcf2fgyf78n" path="res://arenafloor_v3.glb" id="5_f2txt"]
[ext_resource type="PackedScene" uid="uid://c4up3rk786do1" path="res://rock_2.tscn" id="6_n6hdu"]
[ext_resource type="PackedScene" uid="uid://cuke5p6hstj4p" path="res://rock_3.tscn" id="7_km5ld"]
[ext_resource type="PackedScene" uid="uid://ba0njjoa2awie" path="res://warlock_character.tscn" id="7_n6hdu"]
[ext_resource type="PackedScene" uid="uid://o0axea3p8c5c" path="res://rock_1.tscn" id="8_i2t4f"]
[ext_resource type="PackedScene" uid="uid://l3j1u0s4itku" path="res://pilar.tscn" id="8_km5ld"]

[sub_resource type="LabelSettings" id="LabelSettings_km5ld"]
line_spacing = 16.0
font_size = 38

[sub_resource type="LabelSettings" id="LabelSettings_i2t4f"]
font_size = 70

[sub_resource type="LabelSettings" id="LabelSettings_8cye3"]
font_size = 22

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_5xgho"]

[sub_resource type="Sky" id="Sky_u52ul"]
sky_material = SubResource("ProceduralSkyMaterial_5xgho")

[sub_resource type="Environment" id="Environment_vonw3"]
background_mode = 2
sky = SubResource("Sky_u52ul")

[sub_resource type="NavigationMesh" id="NavigationMesh_u52ul"]
vertices = PackedVector3Array(-9.5, 0.5, -9.5, -9.5, 0.5, 9.5, 9.5, 0.5, 9.5, 9.5, 0.5, -9.5)
polygons = [PackedInt32Array(3, 2, 0), PackedInt32Array(0, 2, 1)]

[sub_resource type="PlaneMesh" id="PlaneMesh_oi3di"]
size = Vector2(20, 20)

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_vonw3"]
data = PackedVector3Array(10, 0, 10, -10, 0, 10, 10, 0, -10, -10, 0, 10, -10, 0, -10, 10, 0, -10)

[node name="Node3D" type="Node3D"]
process_mode = 1

[node name="GameState" type="Node" parent="."]
script = ExtResource("1_8cye3")

[node name="PauseHandler" type="Node" parent="."]
process_mode = 3
script = ExtResource("1_i2t4f")

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="Help" type="Label" parent="CanvasLayer"]
anchors_preset = 1
anchor_left = 1.0
anchor_right = 1.0
offset_left = -69.0
offset_bottom = 23.0
grow_horizontal = 0
size_flags_horizontal = 0
text = "Esc - Remove Help
M - Mute
P - Pause
Q - Teleport
W - Barrier
H - Hide hearts
Space - Dash
Scroll - Zoom in/out
Left Click - Wak
Right Click - Fireball  "

[node name="Paused" type="Label" parent="CanvasLayer"]
visible = false
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -28.5
offset_top = -11.5
offset_right = 28.5
offset_bottom = 11.5
grow_horizontal = 2
grow_vertical = 2
text = "Paused"
label_settings = SubResource("LabelSettings_km5ld")

[node name="Level" type="Label" parent="CanvasLayer"]
visible = false
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -20.0
offset_top = -11.5
offset_right = 20.0
offset_bottom = 11.5
grow_horizontal = 2
grow_vertical = 2
text = "Apocalypse Level"
label_settings = SubResource("LabelSettings_i2t4f")

[node name="enemykilled" type="Label" parent="CanvasLayer"]
offset_right = 40.0
offset_bottom = 23.0
text = " Enemies Killed: 0"
label_settings = SubResource("LabelSettings_8cye3")

[node name="TimeScore" type="Label" parent="CanvasLayer"]
offset_left = 7.0
offset_top = 39.0
offset_right = 201.0
offset_bottom = 84.0
text = " Time Score"
label_settings = SubResource("LabelSettings_8cye3")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_vonw3")
script = ExtResource("1_km5ld")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.56962454, 0.5670398, -0.59497356, -0.03796041, 0.74127394, 0.6701281, 0.8210279, -0.35913604, 0.443773, 0, 10.4082775, 13.845432)
light_energy = 2.0
shadow_enabled = true

[node name="Camera3D" type="Camera3D" parent="." node_paths=PackedStringArray("character")]
transform = Transform3D(1, 0, 0, 0, 0.38044098, 0.9248052, 0, -0.9248052, 0.38044098, 0, 7, 3.4939542)
script = ExtResource("1_u52ul")
character = NodePath("../Warlock")

[node name="RayCast3D" type="RayCast3D" parent="Camera3D"]

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
transform = Transform3D(2.6717615, 0, 0, 0, 1, 0, 0, 0, 2.6717615, 0, 0, 0)
navigation_mesh = SubResource("NavigationMesh_u52ul")

[node name="arenafloor_v3" parent="NavigationRegion3D" instance=ExtResource("5_f2txt")]
transform = Transform3D(1.9257027, 0, 0, 0, 1, 0, 0, 0, 1.9257027, -0.019557, 0.01999998, -0.04010415)

[node name="Floor" type="MeshInstance3D" parent="NavigationRegion3D"]
visible = false
mesh = SubResource("PlaneMesh_oi3di")
skeleton = NodePath("../..")

[node name="StaticBody3D" type="StaticBody3D" parent="NavigationRegion3D/Floor" groups=["floor"]]

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/Floor/StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_vonw3")

[node name="Warlock" parent="." instance=ExtResource("7_n6hdu")]

[node name="rock1" parent="." instance=ExtResource("8_i2t4f")]
transform = Transform3D(0.049521647, -0.7121374, 1.302298, 1.3219966, 0.3653536, 0.12642385, -0.34304893, 1.3051492, 0.6751916, -14.783147, 0.7738087, 16.056726)

[node name="rock3" parent="." instance=ExtResource("8_i2t4f")]
transform = Transform3D(0.049521647, -0.7121374, 1.302298, 1.3219966, 0.3653536, 0.12642385, -0.34304893, 1.3051492, 0.6751916, 14.534194, 0.7738087, -4.0311966)

[node name="rock2" parent="." instance=ExtResource("8_i2t4f")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -3.337636, 0.23405123, 18.642136)

[node name="rock4" parent="." instance=ExtResource("6_n6hdu")]
transform = Transform3D(1, 0, 0, 0, 0.9869347, -0.08007607, 0, 0.060640153, 1.3032595, -7.2549205, 0.5913309, 15.362923)

[node name="rock8" parent="." instance=ExtResource("6_n6hdu")]
transform = Transform3D(2.2462475, 0, 0, 0, 2.2168996, -0.17987067, 0, 0.1362128, 2.9274435, -16.227287, 0.5913309, -3.244501)

[node name="rock5" parent="." instance=ExtResource("7_km5ld")]
transform = Transform3D(0.026002532, 0.99966186, 0, -0.9721225, 0.025286196, -0.23310593, -0.2330271, 0.0060613444, 0.9724513, 0.28782034, 0.86605215, 14.363171)

[node name="rock6" parent="." instance=ExtResource("6_n6hdu")]
transform = Transform3D(1, 0, 0, 0, 0.9869347, -0.08007607, 0, 0.060640153, 1.3032595, -7.2549205, 0.5913309, -10.157259)

[node name="rock7" parent="." instance=ExtResource("7_km5ld")]
transform = Transform3D(0.026002532, 0.99966186, 0, -0.9721225, 0.025286196, -0.23310593, -0.2330271, 0.0060613444, 0.9724513, 0.28782034, 0.86605215, -11.157011)

[node name="Pilar2" parent="." instance=ExtResource("8_km5ld")]
transform = Transform3D(0.47645268, 0, 0, 0, 0.37641108, 0, 0, 0, 0.5268216, -11.134715, 0.007399082, 5.883669)

[node name="Pilar4" parent="." instance=ExtResource("8_km5ld")]
transform = Transform3D(0.47645268, 0, 0, 0, 0.37641108, 0, 0, 0, 0.5268216, 9.338658, 0.007399082, 7.2969913)

[node name="Pilar5" parent="." instance=ExtResource("8_km5ld")]
transform = Transform3D(0.47645268, 0, 0, 0, 0.37641108, 0, 0, 0, 0.5268216, 16.09334, 0.007399082, 18.538124)

[node name="Pilar3" parent="." instance=ExtResource("8_km5ld")]
transform = Transform3D(0.47645268, 0, 0, 0, 0.37641108, 0, 0, 0, 0.5268216, -4.4408197, 0.007399082, -7.7845774)
